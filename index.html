
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Title & Favicon -->
    <title>Transletter</title>
    <link rel="icon" href="assets/gui_images/favicon.png" type="image/x-icon"/>
    <!-- TODO logo/gif -->
    <!-- <link rel="icon" href="favicon.ico" type="image/x-icon"/> -->
    <!-- <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/> -->

    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css">
    <!-- <link rel="stylesheet" href="css/header_nav.css"> -->
    <!-- <link rel="stylesheet" href="assets/css/custom.css" type="text/css"> -->
    <link rel="stylesheet" href="css/iframe.css">
  </head>
  <body class="home-page-wrapper">
    <!-- JS -->
    <script src="js/jquery.min.js" type="text/javascript"></script>
    <script src="js/jquery.fittext.js"></script>

    <!-- Adjust iframe height according to content by given id -->
    <script>

      // Function to adjust the iframe height and width
      function adjustIframeSize(iframeId) {
          // Selecting the iframe element
          var frame = document.getElementById(iframeId);
          
          if (frame) {
              // Adjusting the iframe height onload event
              frame.onload = function() {
                  // Set the height of the iframe as the height of the iframe content
                  // console.log(`Iframe with ID ${iframeId} height ${frame.contentWindow.document.body.scrollHeight}.`);
                  frame.style.height = frame.contentWindow.document.body.scrollHeight + 'px';
                  // console.log(`Iframe with ID ${iframeId} height adjusted to ${frame.style.height}.`);
                  // Uncomment the line below if you also want to adjust the width
                  // frame.style.width = frame.contentWindow.document.body.scrollWidth + 'px';
              }
          } else {
              console.error(`Iframe with ID ${iframeId} not found.`);
          }
      }

  // function adjustIframeSize(iframeId) {
  //   var frame = document.getElementById(iframeId);

  //   if (frame) {
  //       function resizeIframe() {
  //           try {
  //               const contentHeight = frame.contentWindow.document.documentElement.scrollHeight;
  //               frame.style.height = contentHeight + 'px';
  //           } catch (error) {
  //               console.error(`Unable to access iframe content: ${error}`);
  //           }
  //       }

  //       frame.onload = function() {
  //           setTimeout(resizeIframe, 100);  // Allow content to fully render before resizing
  //       };

  //       // Add an interval to recheck the height in case content changes dynamically
  //       // setInterval(resizeIframe, 100);  // Recheck every 500ms to handle dynamic content changes
  //   } else {
  //       console.error(`Iframe with ID ${iframeId} not found.`);
  //   }
  // }



    document.addEventListener('DOMContentLoaded', function() {
        const navLinks = document.querySelectorAll('nav li');
        // console.log(navLinks);

        // Add the event listeners to each nav link
        navLinks.forEach(item => {
            item.addEventListener('click', function() {
                // Remove 'active' class from all <li> elements
                navLinks.forEach(item => item.classList.remove('active'));
                
                // Add 'active' class to the clicked <li>
                this.classList.add('active');
            });
        });
    });

    // Load at top of page
    document.addEventListener('DOMContentLoaded', function() {
      // Disable browser scroll restoration
      if ('scrollRestoration' in history) {
          history.scrollRestoration = 'manual';
      }

      // Scroll to the top of the page
      window.scrollTo(0, 0);

      // Alternatively, scroll to a specific element by ID
      // document.getElementById('section1').scrollIntoView({ behavior: 'smooth' });
    });

    </script>


    <!-- circular cursor -->
    <!-- <script src="assets/js/customcursor.js"></script>
    <div class="cursor"></div> -->

    <!-- TODO verify visuals for safari & mobile (also caret in random type)-->
    

    <!-- PAGE ORDER -->

    <header>
    <!-- 0. menu & top logo -->
      <nav>
        <!-- TODO place correct nav names and targets -->
          <a href="#animated-logo-iframe" class="gradient-text nav-title" >
            תנואות
          </a>
        </div>
        <ul>
          <!-- <a href="about.html"> -->
          <a href="#scroll-section">
            <li>
              על הפרוייקט
            </li>
          </a>
          <a href="#tester-iframe">
            <li>
              הקלדה חופשית
            </li>
          </a>
          <a href="#waterfall-iframe">
            <li>
              האותיות
            </li>
          </a>
          <a href="#technology-section">
            <li>
              הטכנולוגיה
            </li>
          </a>
          <a href="#research-iframe">
            <li>
              המחקר
            </li>
          </a>
          <a href="#footer-iframe">
            <li>
              צור קשר
            </li>
          </a>
        </ul>
      </nav>
    </header>

    <!-- 1. Animated logo -->
    <div class="animated-logo">
      <iframe src="iframe_subpages/animated_transletter_logo.html" id="animated-logo-iframe"></iframe>
    </div>

    <!-- 2. animated evolution TODO raxo -->
    <div class="evolution-animated">
      <iframe src="iframe_subpages/evolution-animated.html" id="evolution-iframe"></iframe>
      <!-- <script>adjustIframeSize("evolution-iframe")</script> -->
    </div>

    <!-- 3. animate on scroll -->
    <div class="scroll_section_wrapper" id="scroll-section">
      <iframe src="iframe_subpages/scroll-section.html" id="scroll-section-iframe"></iframe>
      <script>adjustIframeSize("scroll-section-iframe")</script>
<!-- optional: scroll section iframe padding like in evolution -->
    </div>

    <!-- 4. tester TODO - adapt from old sliders -->
    <div class="tester">
      <!-- TODO Make axis update with slider -->
      <!-- TODO unify prev format -->
      <iframe src="iframe_subpages/letter-tester.html" id="tester-iframe"></iframe>
    </div>


    <!-- 5. water fall -->
           <!-- TODO unify prev format -->

    <div class="waterfall">
      <iframe src="iframe_subpages/waterfall.html" id="waterfall-iframe"></iframe>
    </div>

    <!-- 6. horizontal container todo -->
           <!-- TODO unify prev format -->

    <div class="horizontal_screensaver_tech" id="technology-section">
      <!-- 6.1 "screensaver" INSERT -->
      <div class="screensaver">
        <iframe src="iframe_subpages/screen-saver.html"></iframe>
        <!-- TODO what is missing in screensaver for smooth? -->
      </div>
      <!-- 6.2 technology title todo-->
      <div class="technology_title">placeholder technology title</div>
      <!-- 6.3 technology text & image, 3 columns todo-->
      <div class="technology">placeholder technology text and image</div>
    </div>

    <!-- 7. random state type tester, "letter_range", gradient blue -->
           <!-- TODO unify prev format -->

    <!-- <div class="letter-range_page"> -->
    <iframe src="iframe_subpages/letter-range.html" id="letter-range-iframe"></iframe>
    <!-- TODO allow to grow beyond iframe? -->
    <!-- <script>adjustIframeSize("letter-range-iframe")</script> -->
    <!-- </div> -->

    <!-- 8&9. research -->
    <div class="research">
            <!-- TODO unify prev format -->

      <!-- TODO split into 2 frames? this 150 is not working and eating up time -->
      <iframe src="iframe_subpages/research.html" id="research-iframe"></iframe>
      <script>adjustIframeSize("research-iframe")</script>
    </div>

    <!-- 10.footer -->
    <div class="footer_page">
            <!-- TODO unify prev format -->

      <iframe src="iframe_subpages/footer.html" id="footer-iframe"></iframe>
      <script>adjustIframeSize("footer-iframe")</script>
    </div>
  </body>
</html>
